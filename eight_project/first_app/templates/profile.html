{%extends 'base.html'%}
{% load crispy_forms_tags %}

{%block body%}
  <div style="width: 50%; margin: auto;">
    <h3>Welcome to profile</h3>
    <h3>Hello {{user}}</h3>
    {% if messages %}
      {%for m in messages%}
      <p class="bg-info">{{m}}</p>
      {%endfor%}
    {% endif %}

    <p><a href="{%url 'passchange'%}">Change your password</a></p>
    <p><a href="{%url 'passchange2'%}">Change your password without old password</a></p>
  </div>

  <form  method="post" action="" style="width: 50%; margin: auto;" novalidate>
    <h3>Login</h3>
    {% csrf_token %}
        {%if form.non_field_errors%}
        {%for er in form.non_field_errors%}
        <p class="bg-danger text-white p-2">{{er}}</p>
        {%endfor%}
        {%endif%}
        {% for fm in form %}
            {{fm.label_tag}}
            <!-- <br> -->
            <!-- {{fm|as_crispy_field }} -->
            {{fm}}
            <!-- <br> -->
            {{fm.errors | striptags}}
            <!-- <br> -->
        {% endfor %}
        <br>
        <button class="btn btn-primary" type="submit">Login</button>
    </form>
{%endblock%}